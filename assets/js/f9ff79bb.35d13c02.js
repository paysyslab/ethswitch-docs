"use strict";(globalThis.webpackChunkethswitch_docs=globalThis.webpackChunkethswitch_docs||[]).push([[172],{1175(e,n,r){r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"deployment-guide-ethswitch","title":"EthSwitch Deployment Guide","description":"Version: 2.0","source":"@site/docs/deployment-guide-ethswitch.md","sourceDirName":".","slug":"/deployment-guide-ethswitch","permalink":"/ethswitch-docs/deployment-guide-ethswitch","draft":false,"unlisted":false,"editUrl":"https://github.com/paysyslab/ethswitch-docs/tree/main/docs/deployment-guide-ethswitch.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Functional Specification - Bulk Payments (EthSwitch)","permalink":"/ethswitch-docs/fsd-bulk-payments-ethswitch"},"next":{"title":"EthBridge Operational Guide","permalink":"/ethswitch-docs/operational-guide-ethswitch"}}');var i=r(4848),t=r(8453);const l={},d="EthSwitch Deployment Guide",a={},c=[{value:"Table of Contents",id:"table-of-contents",level:2},{value:"Pre-Deployment Requirements",id:"pre-deployment-requirements",level:2},{value:"Hardware Requirements",id:"hardware-requirements",level:3},{value:"Software Requirements",id:"software-requirements",level:3},{value:"Network Requirements",id:"network-requirements",level:3},{value:"System Architecture",id:"system-architecture",level:2},{value:"Deployment Architecture Overview",id:"deployment-architecture-overview",level:3},{value:"Component Description",id:"component-description",level:3},{value:"Installation Procedures",id:"installation-procedures",level:2},{value:"1. Prepare the Environment",id:"1-prepare-the-environment",level:3},{value:"2. Install Node.js and npm",id:"2-install-nodejs-and-npm",level:3},{value:"3. Clone Application Repository",id:"3-clone-application-repository",level:3},{value:"4. Install PostgreSQL Database",id:"4-install-postgresql-database",level:3},{value:"5. Install Redis Cache",id:"5-install-redis-cache",level:3},{value:"Configuration Setup",id:"configuration-setup",level:2},{value:"Environment Variables (.env File)",id:"environment-variables-env-file",level:3},{value:"Configuration File (config.js)",id:"configuration-file-configjs",level:3},{value:"Database Initialization",id:"database-initialization",level:2},{value:"Create Database Schema",id:"create-database-schema",level:3},{value:"Initialize Database Tables",id:"initialize-database-tables",level:3},{value:"Security Configuration",id:"security-configuration",level:2},{value:"SSL/TLS Certificate Setup",id:"ssltls-certificate-setup",level:3},{value:"Firewall Configuration",id:"firewall-configuration",level:3},{value:"Password Policy Configuration",id:"password-policy-configuration",level:3},{value:"Network Configuration",id:"network-configuration",level:2},{value:"Nginx Reverse Proxy Configuration",id:"nginx-reverse-proxy-configuration",level:3},{value:"Load Balancer Configuration",id:"load-balancer-configuration",level:3},{value:"Testing and Validation",id:"testing-and-validation",level:2},{value:"Health Check Testing",id:"health-check-testing",level:3},{value:"Database Connection Testing",id:"database-connection-testing",level:3},{value:"Redis Connection Testing",id:"redis-connection-testing",level:3},{value:"API Testing Checklist",id:"api-testing-checklist",level:3},{value:"Post-Deployment Steps",id:"post-deployment-steps",level:2},{value:"1. Initialize Admin User",id:"1-initialize-admin-user",level:3},{value:"2. Verify All Services",id:"2-verify-all-services",level:3},{value:"3. Configure Backups",id:"3-configure-backups",level:3},{value:"4. Setup Monitoring and Alerts",id:"4-setup-monitoring-and-alerts",level:3},{value:"5. Configure Logging",id:"5-configure-logging",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Common Issues and Solutions",id:"common-issues-and-solutions",level:3},{value:"Log Files Location",id:"log-files-location",level:3},{value:"Validation Commands",id:"validation-commands",level:3}];function o(e){const n={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"ethswitch-deployment-guide",children:"EthSwitch Deployment Guide"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Version"}),": 2.0",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"Last Updated"}),": January 30, 2026",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"Provider"}),": PaySys Labs",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"Document Type"}),": Deployment and Installation Guide"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"table-of-contents",children:"Table of Contents"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#pre-deployment-requirements",children:"Pre-Deployment Requirements"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#system-architecture",children:"System Architecture"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#installation-procedures",children:"Installation Procedures"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#configuration-setup",children:"Configuration Setup"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#database-initialization",children:"Database Initialization"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#security-configuration",children:"Security Configuration"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#network-configuration",children:"Network Configuration"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#testing-and-validation",children:"Testing and Validation"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#post-deployment-steps",children:"Post-Deployment Steps"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#troubleshooting",children:"Troubleshooting"})}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"pre-deployment-requirements",children:"Pre-Deployment Requirements"}),"\n",(0,i.jsx)(n.h3,{id:"hardware-requirements",children:"Hardware Requirements"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Component"}),(0,i.jsx)(n.th,{children:"Minimum"}),(0,i.jsx)(n.th,{children:"Recommended"}),(0,i.jsx)(n.th,{children:"Enterprise"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"CPU"})}),(0,i.jsx)(n.td,{children:"4 cores"}),(0,i.jsx)(n.td,{children:"8 cores"}),(0,i.jsx)(n.td,{children:"16+ cores"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"RAM"})}),(0,i.jsx)(n.td,{children:"8 GB"}),(0,i.jsx)(n.td,{children:"16 GB"}),(0,i.jsx)(n.td,{children:"32+ GB"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Storage"})}),(0,i.jsx)(n.td,{children:"100 GB"}),(0,i.jsx)(n.td,{children:"500 GB"}),(0,i.jsx)(n.td,{children:"2+ TB SSD"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Network"})}),(0,i.jsx)(n.td,{children:"100 Mbps"}),(0,i.jsx)(n.td,{children:"1 Gbps"}),(0,i.jsx)(n.td,{children:"10 Gbps"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"software-requirements",children:"Software Requirements"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Component"}),(0,i.jsx)(n.th,{children:"Version"}),(0,i.jsx)(n.th,{children:"Purpose"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Operating System"})}),(0,i.jsx)(n.td,{children:"Ubuntu 20.04 LTS / Windows Server 2019+"}),(0,i.jsx)(n.td,{children:"Server OS"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Node.js"})}),(0,i.jsx)(n.td,{children:"16.13.0 or higher"}),(0,i.jsx)(n.td,{children:"Runtime Environment"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"PostgreSQL"})}),(0,i.jsx)(n.td,{children:"12.0 or higher"}),(0,i.jsx)(n.td,{children:"Database Management"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Redis"})}),(0,i.jsx)(n.td,{children:"6.0 or higher"}),(0,i.jsx)(n.td,{children:"Caching Layer"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Docker"})}),(0,i.jsx)(n.td,{children:"20.10+ (Optional)"}),(0,i.jsx)(n.td,{children:"Containerization"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"OpenSSL"})}),(0,i.jsx)(n.td,{children:"1.1.1+"}),(0,i.jsx)(n.td,{children:"Encryption/SSL/TLS"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"network-requirements",children:"Network Requirements"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Outbound Ports"}),": 443 (HTTPS), 25 (SMTP), 53 (DNS)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Inbound Ports"}),": 443 (Application), 5432 (PostgreSQL), 6379 (Redis)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"SSL/TLS"}),": 1.2 or higher required"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"IP Whitelist"}),": Configure firewall rules as required"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"DNS Records"}),": Configure A records and MX records for email notifications"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"system-architecture",children:"System Architecture"}),"\n",(0,i.jsx)(n.h3,{id:"deployment-architecture-overview",children:"Deployment Architecture Overview"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502                    Load Balancer (Nginx)                    \u2502\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\n               \u2502                  \u2502                  \u2502\r\n        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n        \u2502  App Node 1  \u2502   \u2502  App Node 2     \u2502  \u2502 App Node 3  \u2502\r\n        \u2502  (Port 3000) \u2502   \u2502  (Port 3001)    \u2502  \u2502 (Port 3002) \u2502\r\n        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\n               \u2502                  \u2502                  \u2502\r\n        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u25b4\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b4\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b4\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n        \u2502          Shared Cache (Redis 6379)                   \u2502\r\n        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\n               \u2502\r\n        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u25b4\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n        \u2502  Database Cluster (PostgreSQL 5432)                \u2502\r\n        \u2502  \u251c\u2500 Primary (Read/Write)                           \u2502\r\n        \u2502  \u2514\u2500 Replica (Read Only)                            \u2502\r\n        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,i.jsx)(n.h3,{id:"component-description",children:"Component Description"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Load Balancer"}),": Distributes traffic across application nodes"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Application Nodes"}),": Independent Node.js instances for horizontal scaling"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Cache Layer"}),": Redis for session management and data caching"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Database Cluster"}),": PostgreSQL with replication for high availability"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"installation-procedures",children:"Installation Procedures"}),"\n",(0,i.jsx)(n.h3,{id:"1-prepare-the-environment",children:"1. Prepare the Environment"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Update system packages\r\nsudo apt update && sudo apt upgrade -y\r\n\r\n# Install required dependencies\r\nsudo apt install -y curl wget git build-essential\r\n\r\n# Verify Node.js installation\r\nnode --version\r\nnpm --version\n"})}),"\n",(0,i.jsx)(n.h3,{id:"2-install-nodejs-and-npm",children:"2. Install Node.js and npm"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Using NodeSource repository (Ubuntu)\r\ncurl -fsSL https://deb.nodesource.com/setup_16.x | sudo -E bash -\r\nsudo apt install -y nodejs\r\n\r\n# Verify installation\r\nnode -v\r\nnpm -v\n"})}),"\n",(0,i.jsx)(n.h3,{id:"3-clone-application-repository",children:"3. Clone Application Repository"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Clone the EthSwitch repository\r\ngit clone https://github.com/uneebae/ethswitch-docs.git\r\ncd ethswitch\r\n\r\n# Checkout production branch\r\ngit checkout production\r\n\r\n# Install dependencies\r\nnpm install\n"})}),"\n",(0,i.jsx)(n.h3,{id:"4-install-postgresql-database",children:"4. Install PostgreSQL Database"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Install PostgreSQL\r\nsudo apt install -y postgresql postgresql-contrib\r\n\r\n# Start PostgreSQL service\r\nsudo systemctl start postgresql\r\nsudo systemctl enable postgresql\r\n\r\n# Create application database\r\nsudo -u postgres createdb ethswitch_db\r\nsudo -u postgres createuser ethswitch_user --password\n"})}),"\n",(0,i.jsx)(n.h3,{id:"5-install-redis-cache",children:"5. Install Redis Cache"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Install Redis\r\nsudo apt install -y redis-server\r\n\r\n# Start Redis service\r\nsudo systemctl start redis-server\r\nsudo systemctl enable redis-server\r\n\r\n# Verify Redis is running\r\nredis-cli ping\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"configuration-setup",children:"Configuration Setup"}),"\n",(0,i.jsx)(n.h3,{id:"environment-variables-env-file",children:"Environment Variables (.env File)"}),"\n",(0,i.jsxs)(n.p,{children:["Create ",(0,i.jsx)(n.code,{children:".env"})," file in application root directory:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-env",children:"# Application Settings\r\nNODE_ENV=production\r\nPORT=3000\r\nAPP_NAME=EthSwitch\r\nAPP_URL=https://ethswitch.example.com\r\n\r\n# Database Configuration\r\nDB_HOST=localhost\r\nDB_PORT=5432\r\nDB_NAME=ethswitch_db\r\nDB_USER=ethswitch_user\r\nDB_PASSWORD=secure_password_here\r\nDB_SSL=true\r\n\r\n# Redis Configuration\r\nREDIS_HOST=localhost\r\nREDIS_PORT=6379\r\nREDIS_PASSWORD=redis_password\r\nREDIS_DB=0\r\n\r\n# Authentication Settings\r\nJWT_SECRET=your_jwt_secret_key_here\r\nJWT_EXPIRY=24h\r\nAPI_KEY_PREFIX=ETHSWITCH_\r\n\r\n# Email Configuration\r\nSMTP_HOST=smtp.example.com\r\nSMTP_PORT=587\r\nSMTP_USER=noreply@example.com\r\nSMTP_PASSWORD=email_password\r\nSMTP_FROM=noreply@ethswitch.example.com\r\n\r\n# Security Settings\r\nENCRYPTION_KEY=your_encryption_key_here\r\nTLS_VERSION=1.2\r\nCIPHER_SUITE=ECDHE-RSA-AES256-GCM-SHA384\r\n\r\n# Logging Configuration\r\nLOG_LEVEL=info\r\nLOG_FORMAT=json\r\nLOG_OUTPUT=file\r\n\r\n# Rate Limiting\r\nRATE_LIMIT_WINDOW=15\r\nRATE_LIMIT_MAX_REQUESTS=100\n"})}),"\n",(0,i.jsx)(n.h3,{id:"configuration-file-configjs",children:"Configuration File (config.js)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"module.exports = {\r\n  app: {\r\n    name: process.env.APP_NAME,\r\n    port: process.env.PORT || 3000,\r\n    env: process.env.NODE_ENV || 'development'\r\n  },\r\n  database: {\r\n    host: process.env.DB_HOST,\r\n    port: process.env.DB_PORT,\r\n    database: process.env.DB_NAME,\r\n    user: process.env.DB_USER,\r\n    password: process.env.DB_PASSWORD,\r\n    ssl: process.env.DB_SSL === 'true'\r\n  },\r\n  redis: {\r\n    host: process.env.REDIS_HOST,\r\n    port: process.env.REDIS_PORT,\r\n    password: process.env.REDIS_PASSWORD,\r\n    db: process.env.REDIS_DB\r\n  },\r\n  security: {\r\n    jwtSecret: process.env.JWT_SECRET,\r\n    jwtExpiry: process.env.JWT_EXPIRY,\r\n    encryptionKey: process.env.ENCRYPTION_KEY\r\n  }\r\n};\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"database-initialization",children:"Database Initialization"}),"\n",(0,i.jsx)(n.h3,{id:"create-database-schema",children:"Create Database Schema"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Run database migrations\r\nnpm run migrate:latest\r\n\r\n# Seed initial data\r\nnpm run seed:production\r\n\r\n# Verify database connection\r\nnpm run db:validate\n"})}),"\n",(0,i.jsx)(n.h3,{id:"initialize-database-tables",children:"Initialize Database Tables"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"-- Create users table\r\nCREATE TABLE users (\r\n  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),\r\n  username VARCHAR(255) UNIQUE NOT NULL,\r\n  email VARCHAR(255) UNIQUE NOT NULL,\r\n  password_hash VARCHAR(255) NOT NULL,\r\n  role VARCHAR(50) NOT NULL,\r\n  status VARCHAR(20) DEFAULT 'active',\r\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\r\n  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\r\n);\r\n\r\n-- Create transactions table\r\nCREATE TABLE transactions (\r\n  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),\r\n  transaction_id VARCHAR(255) UNIQUE NOT NULL,\r\n  amount DECIMAL(18,8) NOT NULL,\r\n  currency VARCHAR(3) NOT NULL,\r\n  status VARCHAR(20) DEFAULT 'pending',\r\n  description TEXT,\r\n  metadata JSONB,\r\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\r\n  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\r\n);\r\n\r\n-- Create audit_logs table\r\nCREATE TABLE audit_logs (\r\n  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),\r\n  user_id UUID REFERENCES users(id),\r\n  action VARCHAR(100) NOT NULL,\r\n  resource VARCHAR(100) NOT NULL,\r\n  changes JSONB,\r\n  ip_address INET,\r\n  user_agent TEXT,\r\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\r\n);\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"security-configuration",children:"Security Configuration"}),"\n",(0,i.jsx)(n.h3,{id:"ssltls-certificate-setup",children:"SSL/TLS Certificate Setup"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Generate self-signed certificate (development only)\r\nopenssl req -x509 -newkey rsa:4096 -nodes -out cert.pem -keyout key.pem -days 365\r\n\r\n# For production, obtain certificate from Certificate Authority\r\n# Example: Let's Encrypt with Certbot\r\nsudo certbot certonly --standalone -d ethswitch.example.com\n"})}),"\n",(0,i.jsx)(n.h3,{id:"firewall-configuration",children:"Firewall Configuration"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Enable UFW (Ubuntu Firewall)\r\nsudo ufw enable\r\n\r\n# Allow SSH\r\nsudo ufw allow 22/tcp\r\n\r\n# Allow HTTP\r\nsudo ufw allow 80/tcp\r\n\r\n# Allow HTTPS\r\nsudo ufw allow 443/tcp\r\n\r\n# Allow PostgreSQL (internal only)\r\nsudo ufw allow from 10.0.0.0/8 to any port 5432\r\n\r\n# Allow Redis (internal only)\r\nsudo ufw allow from 10.0.0.0/8 to any port 6379\n"})}),"\n",(0,i.jsx)(n.h3,{id:"password-policy-configuration",children:"Password Policy Configuration"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Policy"}),(0,i.jsx)(n.th,{children:"Requirement"}),(0,i.jsx)(n.th,{children:"Implementation"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Minimum Length"})}),(0,i.jsx)(n.td,{children:"12 characters"}),(0,i.jsx)(n.td,{children:"Application validation"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Complexity"})}),(0,i.jsx)(n.td,{children:"Uppercase + lowercase + numbers + symbols"}),(0,i.jsx)(n.td,{children:"Application validation"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Expiration"})}),(0,i.jsx)(n.td,{children:"90 days"}),(0,i.jsx)(n.td,{children:"Database trigger"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"History"})}),(0,i.jsx)(n.td,{children:"Cannot reuse last 5 passwords"}),(0,i.jsx)(n.td,{children:"Password hash history"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Lockout"})}),(0,i.jsx)(n.td,{children:"5 failed attempts = 30 min lockout"}),(0,i.jsx)(n.td,{children:"Cache-based tracking"})]})]})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"network-configuration",children:"Network Configuration"}),"\n",(0,i.jsx)(n.h3,{id:"nginx-reverse-proxy-configuration",children:"Nginx Reverse Proxy Configuration"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-nginx",children:"upstream ethswitch_app {\r\n    server 127.0.0.1:3000;\r\n    server 127.0.0.1:3001;\r\n    server 127.0.0.1:3002;\r\n    keepalive 32;\r\n}\r\n\r\nserver {\r\n    listen 443 ssl http2;\r\n    server_name ethswitch.example.com;\r\n\r\n    ssl_certificate /etc/letsencrypt/live/ethswitch.example.com/fullchain.pem;\r\n    ssl_certificate_key /etc/letsencrypt/live/ethswitch.example.com/privkey.pem;\r\n    \r\n    ssl_protocols TLSv1.2 TLSv1.3;\r\n    ssl_ciphers HIGH:!aNULL:!MD5;\r\n    ssl_prefer_server_ciphers on;\r\n\r\n    location / {\r\n        proxy_pass http://ethswitch_app;\r\n        proxy_http_version 1.1;\r\n        proxy_set_header Upgrade $http_upgrade;\r\n        proxy_set_header Connection 'upgrade';\r\n        proxy_set_header Host $host;\r\n        proxy_set_header X-Real-IP $remote_addr;\r\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\r\n        proxy_set_header X-Forwarded-Proto $scheme;\r\n        proxy_cache_bypass $http_upgrade;\r\n    }\r\n\r\n    # Rate limiting\r\n    limit_req_zone $binary_remote_addr zone=general:10m rate=100r/s;\r\n    limit_req zone=general burst=200 nodelay;\r\n}\r\n\r\nserver {\r\n    listen 80;\r\n    server_name ethswitch.example.com;\r\n    return 301 https://$server_name$request_uri;\r\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"load-balancer-configuration",children:"Load Balancer Configuration"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Setting"}),(0,i.jsx)(n.th,{children:"Value"}),(0,i.jsx)(n.th,{children:"Purpose"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Algorithm"})}),(0,i.jsx)(n.td,{children:"Round Robin"}),(0,i.jsx)(n.td,{children:"Even distribution"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Health Check"})}),(0,i.jsx)(n.td,{children:"10s interval"}),(0,i.jsx)(n.td,{children:"Monitor node health"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Timeout"})}),(0,i.jsx)(n.td,{children:"30s"}),(0,i.jsx)(n.td,{children:"Connection timeout"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Persistence"})}),(0,i.jsx)(n.td,{children:"Cookie-based"}),(0,i.jsx)(n.td,{children:"Session stickiness"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Failover"})}),(0,i.jsx)(n.td,{children:"Automatic"}),(0,i.jsx)(n.td,{children:"High availability"})]})]})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"testing-and-validation",children:"Testing and Validation"}),"\n",(0,i.jsx)(n.h3,{id:"health-check-testing",children:"Health Check Testing"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Test application health\r\ncurl -X GET https://ethswitch.example.com/api/health\r\n\r\n# Expected response:\r\n# { "status": "healthy", "timestamp": "2026-01-30T14:35:22Z" }\n'})}),"\n",(0,i.jsx)(n.h3,{id:"database-connection-testing",children:"Database Connection Testing"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Verify database connectivity\r\npsql -U ethswitch_user -d ethswitch_db -c "SELECT version();"\r\n\r\n# Run migrations\r\nnpm run migrate:verify\n'})}),"\n",(0,i.jsx)(n.h3,{id:"redis-connection-testing",children:"Redis Connection Testing"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Connect to Redis and test\r\nredis-cli ping\r\n\r\n# Should return: PONG\n"})}),"\n",(0,i.jsx)(n.h3,{id:"api-testing-checklist",children:"API Testing Checklist"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Test"}),(0,i.jsx)(n.th,{children:"Command"}),(0,i.jsx)(n.th,{children:"Expected Result"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"API Health"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"curl -X GET /api/health"})}),(0,i.jsx)(n.td,{children:"200 OK"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Authentication"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"curl -X POST /api/auth/login"})}),(0,i.jsx)(n.td,{children:"200 OK"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"User Creation"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"POST /api/users"})}),(0,i.jsx)(n.td,{children:"201 Created"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Transaction Create"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"POST /api/transactions"})}),(0,i.jsx)(n.td,{children:"201 Created"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Data Retrieval"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"GET /api/transactions"})}),(0,i.jsx)(n.td,{children:"200 OK"})]})]})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"post-deployment-steps",children:"Post-Deployment Steps"}),"\n",(0,i.jsx)(n.h3,{id:"1-initialize-admin-user",children:"1. Initialize Admin User"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Create initial administrator account\r\nnpm run create:admin --username=admin@ethswitch.com --password=TempPassword123!\n"})}),"\n",(0,i.jsx)(n.h3,{id:"2-verify-all-services",children:"2. Verify All Services"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Check application status\r\nsystemctl status nodejs\r\n\r\n# Check database status\r\nsudo systemctl status postgresql\r\n\r\n# Check Redis status\r\nsudo systemctl status redis-server\r\n\r\n# Check Nginx status\r\nsudo systemctl status nginx\n"})}),"\n",(0,i.jsx)(n.h3,{id:"3-configure-backups",children:"3. Configure Backups"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Create backup directory\r\nmkdir -p /backups/ethswitch\r\n\r\n# Setup daily database backup\r\n0 2 * * * pg_dump ethswitch_db > /backups/ethswitch/db-$(date +\\%Y\\%m\\%d).sql\r\n\r\n# Setup daily Redis backup\r\n0 3 * * * redis-cli BGSAVE > /backups/ethswitch/redis-$(date +\\%Y\\%m\\%d).log\n"})}),"\n",(0,i.jsx)(n.h3,{id:"4-setup-monitoring-and-alerts",children:"4. Setup Monitoring and Alerts"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Install PM2 for process management\r\nsudo npm install -g pm2\r\n\r\n# Create PM2 configuration file\r\npm2 start ecosystem.config.js --env production\r\n\r\n# Generate startup script\r\npm2 startup\r\npm2 save\n"})}),"\n",(0,i.jsx)(n.h3,{id:"5-configure-logging",children:"5. Configure Logging"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Create log directory\r\nmkdir -p /var/log/ethswitch\r\n\r\n# Setup log rotation\r\ncat > /etc/logrotate.d/ethswitch <<EOF\r\n/var/log/ethswitch/*.log {\r\n    daily\r\n    rotate 30\r\n    compress\r\n    delaycompress\r\n    notifempty\r\n    create 0640 ethswitch ethswitch\r\n    sharedscripts\r\n}\r\nEOF\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,i.jsx)(n.h3,{id:"common-issues-and-solutions",children:"Common Issues and Solutions"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Issue"}),(0,i.jsx)(n.th,{children:"Cause"}),(0,i.jsx)(n.th,{children:"Solution"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Port 3000 already in use"})}),(0,i.jsx)(n.td,{children:"Another process using port"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"lsof -i :3000"})," and kill process"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Database connection failed"})}),(0,i.jsx)(n.td,{children:"Wrong credentials/host"}),(0,i.jsx)(n.td,{children:"Verify DB_* environment variables"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Redis connection timeout"})}),(0,i.jsx)(n.td,{children:"Redis not running"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"sudo systemctl start redis-server"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"SSL certificate error"})}),(0,i.jsx)(n.td,{children:"Expired/invalid certificate"}),(0,i.jsx)(n.td,{children:"Renew certificate with certbot"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"High memory usage"})}),(0,i.jsx)(n.td,{children:"Memory leak/insufficient RAM"}),(0,i.jsx)(n.td,{children:"Restart application and check logs"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"log-files-location",children:"Log Files Location"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Component"}),(0,i.jsx)(n.th,{children:"Log Location"}),(0,i.jsx)(n.th,{children:"Command"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Application"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"/var/log/ethswitch/app.log"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"tail -f /var/log/ethswitch/app.log"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Database"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"/var/log/postgresql/"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"sudo tail -f /var/log/postgresql/postgresql.log"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Redis"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"/var/log/redis/redis-server.log"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"sudo tail -f /var/log/redis/redis-server.log"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Nginx"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"/var/log/nginx/access.log"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"tail -f /var/log/nginx/access.log"})})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"validation-commands",children:"Validation Commands"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Verify all services running\r\npm2 status\r\n\r\n# Check system resources\r\ntop\r\n\r\n# Monitor network connections\r\nnetstat -tlnp | grep :3000\r\n\r\n# Verify database replication\r\npsql -U ethswitch_user -d ethswitch_db -c "SELECT state FROM pg_stat_replication;"\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Deployment Support"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Documentation"}),": ",(0,i.jsx)(n.a,{href:"https://docs.ethswitch.example.com",children:"https://docs.ethswitch.example.com"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Technical Support"}),": ",(0,i.jsx)(n.a,{href:"mailto:support@paysyslabs.com",children:"support@paysyslabs.com"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Emergency Hotline"}),": +1-800-ETHSWITCH"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Status Page"}),": ",(0,i.jsx)(n.a,{href:"https://status.ethswitch.example.com",children:"https://status.ethswitch.example.com"})]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},8453(e,n,r){r.d(n,{R:()=>l,x:()=>d});var s=r(6540);const i={},t=s.createContext(i);function l(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);